- Working with JSON in golang
  - A JSON can represent a dictionary or a list and items can be any supported data types.
  - In Go, the closest we can get to JSON representation is through map or struct data types.
  - JSON supports primarily 6 data types viz. `string`, `number`, `boolean`, `null`, `array` and `object`.
  - **Encoding JSON:**
    - `func Marshal(v interface{}) ([]byte, error)`
    - Converting an object to a JSON string, v can be a map or a struct.
    - If you want to format the JSON with newlines and indentation, you can use `json.MarshalIndent` function which internally calls the Marshal function. This function takes the prefix and indentation as the argument.
    - The Marshal function only considers the exported fields for the encoding.
    - We can also encode map data type into JSON data.
    - The necessary condition is that map keys should be either string or int.
    - If a value is a pointer, then the value of the pointer is used for the marshaling.
    - If a value is an interface, then the concrete value of the interface is used for the marshaling.
    - If a promoted field name conflicts with the field name from the parent structure, then the least nested field is selected for the marshaling.
    - A structure can have an anonymously nested structure. In such a case, the fields of that structure (as well as methods) are promoted to the parent structure.
  - **Data Type Conversion:**
    - Sometimes, we do not want to encode a field value as it is but to provide a custom value for marshaling. 
    - This can be achieved by implementing `json.Marshaler` or `encoding.TextMarshaler` interface.
    - If a field’s value implements one of the above interfaces, then Marshal function won’t consider the field’s value for marshaling and instead use the value returned by the method MarshalJSON or MarshalText method.
    - https://play.golang.org/p/xxg31Vd2i1d is a nice example to understand Marshaler interfaces.
  - **JSON Tags:**
    - *omitempty* option specifies that the field should be omitted from the encoding if the field has an empty value.
    - *string* option signals that a field is stored as JSON inside a JSON-encoded string.
    - We can use `-` as the options value, if we want to ignore a field unconditionally.
    - However, `-` can also be a valid JSON element key, hence `-`, value will specify that we want the field name to be `-`.
  - **Decoding JSON:**
    - Converting JSON string to a valid data structure like map or struct.
    - `func Valid(data []byte) bool` used to verify if the given JSON byte array is valid or not.
    - `func Unmarshal(data []byte, v interface{}) error` used to decode JSON string to a valid data structure like map or struct.
    - Any additional JSON fields, if not declared in the struct, won’t be unmarshalled.
    - Any unexported fields in strct will not be unmarshalled.
    - If a field in JSON does not contain the value of the data type declared in the structure, Unmarshal will not coerce that value to an appropriate data type of the field and instead, it will return an error.
      - A JSON string value is stored as string.
      - A JSON number value(int or float) is stored as float64.
      - A JSON boolean value is stored as bool.
      - A JSON null value is stored as nil value.
      - A JSON array value is stored as a slice of type []interface{}.
      - A JSON object value is stored as a map of type map[string]interface{}.
  - Encoder / Decoder
    - Go provides `json/Encoder` and `json/Decoder` structure types to encode JSON from a data stream and decode JSON to a data stream. 
    - **Encoder:**
      - The json/Encoder structure type lets you create a struct that holds a `io.Writer` object and provides `Encode()` method to encode JSON from an object and write to this io.Writer object.
    - **Decoder:**
      - The json/Decoder structure type lets you create a struct that holds a `io.Reader` object and provides `Decode()` method to decode JSON from this io.Writer object and write to an object.
